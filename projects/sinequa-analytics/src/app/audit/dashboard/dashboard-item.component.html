<sq-facet-card
    [icon]="config.icon"
    [title]="config.title"
    [collapsible]="false"
    [actions]="actions"
    [actionsFirst]="false"
    [buttonsStyle]="buttonsStyle"
    [ngSwitch]="config.type">

    <!-- Timeline view-->
    <section *ngSwitchCase="'timeline'">
        <sq-timeline
            [data]="timeSeries"
            [width]="innerwidth"
            [height]="(timeSeries?.length > 1) ? (innerheight - 30) : innerheight"
            [showTooltip]="true"
            (rangeChange)="updateAuditRange($event)"
            (selectionChange)="updateAuditRange($event)">
        </sq-timeline>
        <sq-timeline-legend
            *ngIf="timeSeries?.length > 1"
            [data]="timeSeries"
            [yOffset]="8"
            [legendStyles]="{'justify-content': 'center'}">
        </sq-timeline-legend>
    </section>


    <!-- Statistic view -->
    <sq-audit-stat *ngSwitchCase="'stat'"
        [config]="config"
        [dataset]="dataset"
        [previousDataSet]="previousDataSet">
    </sq-audit-stat>

    <!-- Chart view -->
    <div class="overflow-hidden" *ngSwitchCase="'chart'">
        <sq-fusion-chart
            #facet
            [results]="chartResults"
            [chart]="chart"
            [aggregation]="config?.chartData?.aggregation"
            [type]="config.chartType || 'Column2D'"
            [types]="[{type: 'Column2D', display: 'Columns 2D'}, {type: 'Bar2D', display: 'Bars 2D'}, {type: 'Pie2D', display: 'Pie 2D'}, {type: 'Column3D', display: 'Columns 3D'}, {type: 'Bar3D', display: 'Bars 3D'}, {type: 'Pie3D', display: 'Pie 3D'}]"
            [autohide]="false"
            (initialized)="onChartInitialized($event)"
            (typeChange)="onChartTypeChange($event)">
        </sq-fusion-chart>
    </div>

    <!-- Heatmap view -->
    <sq-facet-heatmap *ngSwitchCase="'heatmap'"
        #facet
        [results]="results"
        [fieldX]="'geo'"
        [fieldY]="'company'"
        [fieldsX]="['geo', 'company', 'person']"
        [fieldsY]="['geo', 'company', 'person']"
        [width]="innerwidth"
        [height]="innerheight"
        [allowResizeOption]="false">
    </sq-facet-heatmap>

</sq-facet-card>
